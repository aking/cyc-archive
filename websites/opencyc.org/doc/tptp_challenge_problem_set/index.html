<html>
<head>
<title>The Cyc TPTP Challenge Problem Set</title>
</head>
<body>
<h1>The Cyc TPTP Challenge Problem Set</h1>

<a name=toc><h2>Table of Contents</h2></a>

<ol>
<li><a href=#toc>Table of Contents</a>
<li><a href=#purpose>Purpose<a>
<li><a href=#structure>Structure<a>
<li><a href=#scaling>The Scaling Challenge Problem Set<a>
 <ol type=a>
 <li><a href=#scaling1>Finding the needle in larger and larger haystacks</a>
 <li><a href=#scaling2>Representative inference types</a>
 <li><a href=#scaling3>Maintaining state across problems</a>
 </ol>
<li><a href=#elaboration>The Elaboration Challenge Problem Set<a>
 <ol type=a>
 <li><a href=#elaboration1>Static KB</a>
 <li><a href=#elaboration2>Dynamic KB</a>
 <li><a href=#elaboration3>Conjectures</a>
 </ol>
<li><a href=#contradictions>Contradictions</a>
 <ol type=a>
 <li><a href=#contradictions1>Microtheories</a>
 <li><a href=#contradictions2>RAA proofs</a>
 <li><a href=#contradictions3>Higher-order meta-reasoning</a>
 <li><a href=#contradictions4>Advisement</a>
 </ol>
<li><a href=#futurework>Future Work</a>
<li><a href=#download>Download</a>
<li><a href=#citation>How to cite this documentation</a>
<li><a href=#permalink>Permalink</a>
</ol>

<a name=purpose><h2>Purpose</h2></a>

<p>

In the history of the Cyc project, Cyc's knowledge base and inference
engine have evolved in a direction far different from most other
theorem provers.  Eventually they ceased even speaking the same
language; Cyc started speaking higher-order logic and was thus
rendered incompatible.  An unfortunate consequence of this is that up
until now there has been no corpus accessible by both Cyc and the
theorem proving community.

</p><p>

This set of challenge problems is that missing link.

<a name=structure><h2>Structure</h2></a>

<p>

The Cyc TPTP Challenge Problem Set consists of a background theory and
many conjectures, expressed in the <a href=http://tptp.org>TPTP</a> format.

</p><p>

The background axioms for the Cyc TPTP Challenge Problem Set are a
first-order translation of a subset of the <a
href=http://opencyc.org>OpenCyc</a> KB plus some additional synthetic
content created algorithmically, especially for this problem set.  The
autogenerated synthetic content is representative of various
structures in the <a href=http://research.cyc.com/>ResearchCyc</a> KB, and allows for arbitrary scaling.  For
details on the first-order translation process, see <a
href=http://www.cyc.com/doc/white_papers/folification.pdf>First-Orderized
ResearchCyc: Expressivity and Efficiency in a Common-Sense
Ontology</a> by Deepak Ramachandran, P. Reagan, K. Goolsbey.

</p><p>

The conjectures were also generated algorithmically, according to
criteria that are explained <a href=#scaling2>below</a>.  They are
large-scale common sense inferences, designed to be representative of
a commonly occurring subset of the queries Cyc's inference engine is
asked in practice.

</p><p>

The Cyc TPTP Challenge Problem Set consists of two main sections: the
<a href=#scaling>Scaling Challenge Problem Set<a> and the <a href=#elaboration>Elaboration Challenge Problem
Set</a>.  Both problem sets test a theorem prover's ability to efficiently
perform the types of inference that have proven most useful in the
past and present of the Cyc project.  The Scaling Challenge Problem
Set also tests a theorem prover's ability to find the correct
inference path from a vast ocean of distracting chaff.  The
Elaboration Challenge Problem Set tests all that, plus a theorem
prover's ability to efficiently handle small changes to the background
theory.

</p>

<a name=scaling><h2>The Scaling Challenge Problem Set</h2></a>

<p>

The Scaling Challenge Problem Set consists of <b>300 problems</b> that test a
theorem prover's ability to perform large-scale common sense
reasoning.  It consists of 6 segments, and each segment contains 50
problems.  All of them are provable.  These 50 problems contain a
small sampling of inference types representative of the queries Cyc's
inference engine is most often asked in practice.  Each segment
consists of the exact same 50 problems -- the only difference is that
each segment contains a larger amount of distracting chaff.

</p>

<a name=scaling1><h3>Finding the needle in larger and larger haystacks</h3></a>

<p>

Here is a breakdown of the 6 segments:

<table cellpadding=5>
<tr><td><u>Segment</u></td><td><u>Problems</u></td><td><u>Segment name</u></td><td><u>Segment description</u></td><td><u>Axioms per problem</u></td></tr>
<tr><td>1</td><td>025-074</td><td>Focused</td><td>Each problem contains only the exact axioms needed to prove that individual conjecture.</td><td><b>~80</b></td></tr>
<tr><td>2</td><td>075-124</td><td>Tiny</td><td>The static background theory shared by all 50 problems contains only the axioms needed to prove the union of all 50 conjectures.</td><td><b>~1100</b></td></tr>
<tr><td>3</td><td>125-174</td><td>Small</td><td>As above, with some distracting "chaff" axioms added.  The distracting chaff is selected from the OpenCyc KB based on similarity to the axioms that are actually required.</td><td><b>~8,000</b></td></tr>
<tr><td>4</td><td>175-224</td><td>Medium</td><td>As above, but with more specially-selected distracting chaff added.</td><td><b>~44,000</b></td></tr>
<tr><td>5</td><td>225-274</td><td>Large</td><td>As above, but with many randomly selected chaff axioms added.</td><td><b>~540,000</b></td></tr>
<tr><td>6</td><td>275-324</td><td>Huge</td><td>Includes the entire OpenCyc KB as a background theory.  This is a superset of the above.</td><td><b>~3,340,000</b></td></tr>
</table>

</p>

<a name=scaling2><h3>Representative inference types</h3></a>

Each segment contains the same 50 problems.  These 50 problems are
broken down into 10 types, with 5 problems of each type.  The problem
types are designed to be emblematic of common types of inference
performed often by Cyc's inference engine.

<ol>
<li>lookup
<li>genls
<li>isa
<li>disjointWith
<li>genlPreds / genlInverse + lookup
<li>relationAllInstance
<li>relationAllExists
<li>transitivity / transitiveViaArg
<li>symmetry
<li>arg-type
</ol> 

<p>

These problem types are ordered and contiguous; the first 5 problems
in a segment will be lookup problems, the next 5 will be genls
problems, and so on.  For example, the relationAllExists problems will
be problems 55-59, 105-109, 155-159, 205-209, 255-259, and 305-309.

</p><p>

Note that most of these problems are "easy" to prove by the standards
of the ATP community, at least when there is no chaff.  Like
NP-complete problems, checking a known solution is indeed easy, and
the challenge comes from finding the known solution in a sea of
distraction.  This is the motivation for providing a corpus with
increasing amounts of chaff.

</p><p>

None of the problems in this problem set rely on equality reasoning.
This is because Cyc's inference engine makes the Unique Names
Assumption by default, and default reasoning is outside the scope of
this problem set.

</p>

<a name=scaling3><h3>Maintaining state across problems</h3></a>

<p>

Each segment shares a background theory stored in a single axiom file.
Each problem in a given segment, with the exception of segment 1,
consists of a single include directive (the background theory) and a
single conjecture.  Hence, ATP systems which can maintain state across
problems will gain a 50x speedup by loading the background theory
once, bookmarking that state, and posing multiple conjectures against
the pre-loaded background theory.  The meta-information that the
background theory is static with respect to the segment is contained
in a TPTP "pragma" implemented as a defined comment as specified in
the TPTP BNF.  An example of the relevant section of the TPTP file is
as follows:

</p>

<pre>
%$problem_series(cyc_scaling_1,[CSR025+1,CSR026+1,CSR027+1,CSR028+1,CSR029+1,CSR030+1,CSR031+1,CSR032+1,CSR033+1,CSR034+1,CSR035+1,CSR036+1,CSR037+1,CSR038+1,CSR039+1,CSR040+1,CSR041+1,CSR042+1,CSR043+1,CSR044+1,CSR045+1,CSR046+1,CSR047+1,CSR048+1,CSR049+1,CSR050+1,CSR051+1,CSR052+1,CSR053+1,CSR054+1,CSR055+1,CSR056+1,CSR057+1,CSR058+1,CSR059+1,CSR060+1,CSR061+1,CSR062+1,CSR063+1,CSR064+1,CSR065+1,CSR066+1,CSR067+1,CSR068+1,CSR069+1,CSR070+1,CSR071+1,CSR072+1,CSR073+1,CSR074+1])
%$static(cyc_scaling_1,include('Axioms/CSR002+0.ax'))
include('Axioms/CSR002+0.ax').
</pre>

<p>

The first defined comment, beginning with <code>%$problem_series</code>, declares
a problem series <code>cyc_scaling_1</code>, segment 1 of the Cyc Scaling
Challenge Problem Set, which consists of the stated list of TPTP
problems.

</p><p>

The second defined comment, beginning with <code>%$static</code>, declares that
the stated directive, in this case an include directive, is static
with respect to the stated problem series.  In particular, this means
that the include directive for the axiom file <code>Axioms/CSR002+0.ax</code> is
static (i.e. will not change) with respect to each problem in the
<code>cyc_scaling_1</code> problem series.

</p><p>

The third directive is the actual include directive.  A clever theorem
prover could pay attention to the preceding defined comments and
handle this include specially, since it has the meta-knowledge that it
is static with respect to this problem series.

</p>

<a name=elaboration><h2>The Elaboration Challenge Problem Set</h2></a>

<p>

The Elaboration Challenge Problem Set consists of <b>300 problems</b> with
about <b>3,280,000 axioms each.</b>  The Elaboration Challenge Problem Set is
designed to be more challenging than the Scaling Challenge Problem Set
and to be even more representative of the problems Cyc's inference
engine typically faces.  Developers are advised to tackle the Scaling
Challenge Problem Set before the Elaboration Challenge Problem Set.
The Elaboration Challenge Problem Set tests everything in the Scaling
Challenge Problem Set, and also tests a system's elaboration
tolerance.

<blockquote>
A formalism is <i>elaboration tolerant</i> to the extent that it is
convenient to modify a set of facts expressed in the formalism to take
into account new phenomena or changed circumstances.  -John McCarthy<sup>[<a href=http://citeseer.ist.psu.edu/259152.html>1</a>]</sup>
</blockquote>

</p><p>

The Cyc knowledge base is dynamic, not static.  It has a persistent
axiom store that can be edited in real time -- axioms and terms can be
created or deleted without need for any global recompilation.  The
Elaboration Challenge Problem Set simulates this process.  To perform
optimally on this corpus, a system will maintain persistent state and
be elaboration tolerant to changes to that state.

</p><p>

Each TPTP problem in the Elaboration Challenge Problem Set consists of
three parts:

<ol>
<li>The static KB
<li>The dynamic KB
<li>The conjecture
</ol>

<a name=elaboration1><h3>Static KB</h3></a>

Every problem in the Elaboration Challenge Problem Set shares the same
static KB.  It is the first axiom file included, and it has the same
pragmas as it does in the Scaling Challenge Problem Set (see above).
It contains about 94% of the translated OpenCyc KB, including the
autogenerated synthetic content.  The static KB is very similar to the
background theory in segment 6 of the Scaling Challenge Problem Set.
The only differences are that 6% of the axioms are not present and
the order is different.

</p>

<a name=elaboration2><h3>Dynamic KB</h3></a>

<p>

Each problem in the Elaboration Challenge Problem Set includes a
subset of the dynamic KB.  The dynamic KB is chunked into many include
files, each containing about 4500 axioms, some of which are
duplications of axioms in the static KB and some of which are not.
Some of these dynamic KB chunks will be included for a given problem
and some will not.  The deltas are small between adjacent problems in
the series, so a clever theorem prover could take advantage of this by
caching most of the dynamic KB and only adding or deleting the
contents of those include files that differ between the current
problem and the previous problem.  This simulates a series of queries
interspersed with a series of theory revisions.

</p>

<a name=elaboration3><h3>Conjectures</h3></a>

<p>

The conjectures are of the same 10 inference types as in the Scaling
Challenge Problem Set, with some additions such as reflexivity.  The
distribution is roughly equal between the inference types, but unlike
the Scaling Challenge Problem Set the order of each problem is
randomized.  In addition, conjectures are often repeated at different
points in the series; the same conjecture with a different subset of
the dynamic KB.  Often a conjecture will be provable with one subset
of the dynamic KB and will not be provable with a different subset of
the dynamic KB; the repetition of conjectures tests such minimal
pairs.

</p>

<a name=contradictions><h2>Contradictions</h2></a>

<p>

There are contradictions in the Cyc knowledge base.  Cyc has
safeguards in place (such as WFF-checking and tightly resource-bounded
inference upon theory revision) to avoid many types of
obvious contradictions, but a few unintentional contradictions still
slip through.  With any knowledge base so large, especially one that
is revised dynamically and asynchronously by multiple users, global
consistency is an unrealistic expectation.  This opens the possibility
of theorem provers trivially solving all these challenge problems by
finding one contradiction in the static KB, caching it, and appealing
to <i>reductio ad absurdum</i>.  While this is technically a solution
to the problem, it in no way contributes to the advancement of
research in large-scale common-sense inference.  The existence of
contradictions in large-scale common-sense knowledge bases has forced
Cyc's inference engine to make a different design decision -- to
studiously steer the search away from such contradictions and to
isolate their effect on unrelated inferences as much as possible.

</p><p>

Cyc's inference engine isolates contradictions in three ways:

<ol>
<li>Microtheories
<li>Avoiding arbitrary <i>reductio ad absurdum</i> (RAA) proofs
<li>Higher-order meta-reasoning about what inference rules to apply or forbid in certain situations
</ol>

</p>

<a name=contradictions1><h3>Microtheories</h3></a>

<p>

Microtheories are translated into TPTP, albeit with a loss of expressivity.
Despite this, this method of avoiding contradictions does carry over to
the challenge problem sets.

</p>

<a name=contradictions2><h3>RAA proofs</h3></a>

<p>

Cyc's inference engine can perform RAA proofs, but it does not perform
arbitrary RAA proofs.  To perform well in a huge theory, theorem
provers must necessarily do set-of-support reasoning to avoid being
distracted by irrelevant background knowledge.  If set-of-support is
taken seriously, then most potential RAA proofs will not be
encountered in the inference search.

</p>

<a name=contradictions3><h3>Higher-order meta-reasoning</h3></a>

<p>

Cyc's inference engine performs several kinds of higher-order
meta-reasoning, some of which help avoid contradictions.  An important
example of this is that Cyc performs WFF-checking on intermediate
steps of the inference and disallows an inference step if it would
result in an ill-formed result.  This is part of how Cyc handles
partial functions (in specific, arg-type constraints on functions).
Since all functions are total in FOL, this may be a source of
contradictions in these challenge problem sets, because partial
functions in Cyc are translated as total functions in FOL.

</p>

<a name=contradictions4><h3>Advisement</h3></a>

<p>

Given the limitations of FOL and the imperfect translation between Cyc
and TPTP, theorem prover authors are advised to solve these challenge
problems in a backward, query-focused way, and to take set-of-support
seriously.  This will help avoid irrelevant contradictions in the background
theory whenever possible.

</p>

<a name=futurework><h2>Future Work</h2></a>

Cycorp intends to create a similar but richer set of challenge problems for
the <a href=http://research.cyc.com>ResearchCyc</a> KB.  ResearchCyc contains considerably more knowledge
than OpenCyc, and its knowledge is much more entangled and varied.
ResearchCyc also has a much wider variety of rules, allowing for much
longer chains of common sense reasoning.  The ResearchCyc
Challenge Problem Set will be even more challenging and even more
representative of the common sense inferences faced by Cyc.

<a name=download><h2>Download</h2></a>

<h3><i><a href=http://sourceforge.net/project/showfiles.php?group_id=27274>Download it now!</a></i></h3>

The Cyc TPTP Challenge Problem Set is available under the following license:

<pre>
Copyright Information
Cyc(R) Knowledge Base Copyright(C) 1995-2007 Cycorp, Inc., Austin, TX, USA.
All rights reserved.
OpenCyc Knowledge Base Copyright(C) 2001-2007 Cycorp, Inc., Austin, TX, USA.
All rights reserved.

Other copyrights may be found in various files.

The OpenCyc Knowledge Base

The OpenCyc Knowledge Base consists of code, written in the
declarative language CycL, that represents or supports the
representation of facts and rules pertaining to consensus
reality. OpenCyc is licensed using the Apache License, Version 2,
whose text can be found at
http://www.apache.org/licenses/LICENSE-2.0.html.

The OpenCyc CycL code base is the "Work" referred to in the Apache
license. The terms of this license equally apply to renamings and
other logically equivalent reformulations of the Knowledge Base (or
portions thereof) in any natural or formal language.
</pre>

<a name=citation><h2>How to cite this documentation</h2></a>

Here is a suggested citation for this document.

<blockquote>Pace Reagan Smith, G. Sutcliffe, K. Goolsbey, R.C. Kahlert. (&copy; 2007).  The Cyc TPTP Challenge Problem Set.  <i>OpenCyc.org.</i>  Retrieved [current date] from <code>http://opencyc.org/doc/tptp_challenge_problem_set</code></blockquote>

<a name=permalink><h2>Permalink</h2></a>

The permalink for this documentation is <a href=http://www.opencyc.org/doc/tptp_challenge_problem_set.html>http://www.opencyc.org/doc/tptp_challenge_problem_set</a>

<hr>
Copyright &copy; 2007 Cycorp, Inc.  All rights reserved.

</body>
</html>
